\begin{algorithm}
\caption{Validate-Transactions-and-Store}
\begin{algorithmic}
    \STATE $L \leftarrow Dec_{SC}(M_T)$
    \FORALL{$\{T \in L \mid T \notin TQ \mid T \notin TP\}$}
        \STATE $B_d \leftarrow$ \CALL{Head}{\CALL{Longest-Chain}{$BT$}}
        \STATE $N \leftarrow H_n(B_d)$
        \STATE $R \leftarrow$ \CALL{CALL-Runtime-Entry}{$\texttt{TaggedTransactionQueue\_validate\_transaction}, N, T$}
        \IF{\CALL{Valid}{$R$}}
            \IF{\CALL{Requires}{$R$}$ \subset \bigcup_{\FORALL T \in (TQ~\cup~B_i \mid \exists i < d)}$ \CALL{Provided-Tags}{$T$}}
                \STATE \CALL{Insert-At}{$TQ, T, $\CALL{Requires}{$R$}$, $\CALL{Priority}{$R$}}
            \ELSE
                \STATE \CALL{Add-To}{$TP,T$}
            \ENDIF
            \STATE \CALL{Maintain-Transaction-Pool}{}
            \IF{\CALL{ShouldPropagate}{$R$}}
                \STATE \CALL{Propagate}{$T$}
            \ENDIF
        \ENDIF
    \endfor
\end{algorithmic}
\end{algorithm}
    